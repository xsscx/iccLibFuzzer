<?xml version="1.0" encoding="UTF-8"?>
<!-- This profile implements the RGBW projector model proposed by Dave Wyble (currently with Avian Rochester) and Mitch Rosen -->
<!-- Data represents measurements of ouptut from OptomoEzPro755 four-primary projector (1024×768 pixel DMD and 2000 ANSI lumens) -->
<!-- Measurements taken with a LMT C1210 colorimeter -->
<IccProfile>
  <Header>
    <PreferredCMMType></PreferredCMMType>
    <ProfileVersion>5.00</ProfileVersion>
    <ProfileDeviceClass>mntr</ProfileDeviceClass>
    <DataColourSpace>RGB </DataColourSpace>
	  <PCS>XYZ </PCS>
    <CreationDateTime>now</CreationDateTime>
    <ProfileFlags EmbeddedInFile="true" UseWithEmbeddedDataOnly="false"/>
    <DeviceAttributes ReflectiveOrTransparency="reflective" GlossyOrMatte="glossy" MediaPolarity="positive" MediaColour="colour"/>
    <RenderingIntent>Relative Colorimetric</RenderingIntent>
    <PCSIlluminant>
      <XYZNumber X="0.96420288" Y="1.00000000" Z="0.82490540"/>
    </PCSIlluminant>
    <ProfileCreator></ProfileCreator>
    <ProfileID>1</ProfileID>
  </Header>
  <Tags>
    <multiLocalizedUnicodeType>
      <TagSignature>desc</TagSignature>
      <LocalizedText LanguageCountry="enUS"><![CDATA[RGBW Projector
This profile implements the RGBW projector model proposed by Dave Wyble (currently with Avian Rochester)
and Mitch Rosen.  Data represents measurements of ouptut from OptomoEzPro755 four-primary projector
(1024×768 pixel DMD and 2000 ANSI lumens Measurements taken with a LMT C1210 colorimeter]]></LocalizedText>
    </multiLocalizedUnicodeType>

    <multiProcessElementType>
      <TagSignature>A2B1</TagSignature>
			<MultiProcessElements InputChannels="3" OutputChannels="3">
				<CalculatorElement InputChannels="3" OutputChannels="3">
				  <SubElements>
					  <!--Element 0 -->
						<CurveSetElement InputChannels="3" OutputChannels="3"> <!-- curv[0] -->
							<SegmentedCurve> <!-- Red Curve -->
								<FormulaSegment Start="-inf" End="0.0" FunctionType="0">1.0 0.0 0.0 0.0</FormulaSegment>
								<!-- Red Linearization Samples (excluding zero) -->
								<SampledSegment Start="0.0" End="1.0">
								4.937955915241981e-006 3.225135297593049e-005 0.0001781191184840883 0.0004233448524518016 0.00077006712808249 0.001196852507557293 0.001695031478250144
								0.002095670486769673 0.002449507211894417 0.003059903627164622 0.003563803711272936 0.004067703788490947 0.004571603865751863 0.005075503942493025 0.005579404020125275
								0.00600958184550201 0.006439759709477431 0.00686993752351869 0.007300115358186318 0.007730293192261537 0.008375805858125283 0.009021318524391163 0.009666831135654698
								0.01031234385532235 0.01095785652153649 0.01184376017512924 0.01272966382882276 0.0136155674824272 0.01450147113600697 0.0153873747863017 0.01651846340664436
								0.01764955202432581 0.01878064064206517 0.01991172925944216 0.02104281787641157 002 0.4858712939371176 0.4904913054349618 0.4951112545732826
								0.5017406402464722 0.508370414596385 0.5150003429481884 0.5216306643066607 0.5282612843705868 0.5344702627088135 0.5406797833993267 0.5468898899821876
								0.5531004962438882 0.5593116259697491 0.5658634266203486 0.572415373278533 0.5789674094092843 0.5855196902119655 0.5920720400808583 0.5989276589310131
								0.6057833684536474 0.6126391049052804 0.6194948918640132 0.6263507274945784 0.6329832110859201 0.6396158971920656 0.6462487674555758 0.6528818632115365
								0.6595151003273317 0.6659087217167692 0.6723023693509005 0.6786958968693058 0.685089475410565 0.6914831399067136 0.6975681385658348 0.7036532850703917
								0.709738486252921 0.7158237419356086 0.7219090518383903 0.7291137980557185 0.736318728679439 0.7435233187468298 0.7507280209585339 0.7579326858914399
								0.7635454790779478 0.7691584839855986 0.7747710612536116 0.7803837919594043 0.7859965021838817 0.7956558406404849 0.8053157788354349 0.8149756568624723
								0.8246356537253344 0.8342957720901932 0.838911217179251 0.8435273776217509 0.8481430620459189 0.8527592203360304 0.8573751821414306 0.8635574011415119
								0.869739641104423 0.8759218983236959 0.88210419424236 0.8882864486803471 0.8932563252830297 0.8982261662812969 0.9031959893961292 0.9081658313787941
								0.9131356877537348 0.9192626318388845 0.9253897119366783 0.9315168113665093 0.9376439326497789 0.94377109727327 0.9523031822892859 0.961277481049005
								0.9612046538625092 0.9684546745358482 0.9732948963952884 0.9806022456599333 0.990283161692489 0.9905231885286825 0.9947518787904557 1
								</SampledSegment>
								<FormulaSegment Start="1.0" End="+inf" FunctionoType="0">1.0 0.0 0.0 1.0</FormulaSegment>
							</SegmentedCurve>
						</CurveSetElement>
					  <!--Element 1 -->
						<CurveSetElement InputChannels="1" OutputChannels="1"> <!-- curv[1] -->
							<SegmentedCurve> <!-- White Curve -->
								<FormulaSegment Start="-inf" End="0.0" FunctionType="0">1.0 0.0 0.0 0.0</FormulaSegment>
								<!-- Blue Linearization Samples (excluding zero) -->
								<SampledSegment Start="0.0" End="1.0">
								4.381646052339636e-009 8.7>3292104679272e-009 1.314493815671608e-008 1.752658420935854e-008 2.190823026080878e-008 1.666686000519293e-008 1.944467000355747e-008
								2.222248000773145e-008 2.664064373928043e-009 1.277508523976171e-008 5.39482925936842e-009 1.811961304263602e-008 1.316316204793597e-008 3.86222956014073e-009 1.837693852551967e-008
								2.494506596136191e-009 2.075115276527035e-008 9.110650908517228e-006 2.381854669066004e-005 3.852642838346924e-005 1.164163577238207e-005 2.148860466105679e-008 3.992824555379869e-009
								1.908973230346589e-008 2.174145020150399e-008 1.877414507274763e-008 2.872846387511682e-009 1.044100303485171e-008 1.492352395914607e-008 6.928095959878997e-010 1.474797758062786e-008
								1.5324629488517e-008 6.446840181202624e-006 1.35123663951847e-005 2.057789852903732e-005 1.474010968201419e-008 1.809417812760823e-008 1.20691318255137e-008 2.104083736104619e-008
								1.561395437992331e-008 2.31086209150822e-008 1.176404115596189e-008 2.199488998680078e-008 1.328425283718132e-008 3.208244407412749e-009 1.846393762594988e-008 7.974172733132276e-009
								6.38239788867633e-009 1.212198332637916e-008 2.068297640914134e-008 1.790770578643602e-008 1.797601517344515e-008 1.772607847028951e-008 1.490685230678289e-008 1.670550998374436e-008
								2.24636005685271e-008 2.348405654002722e-008 1.27970759582909e-008 2.041679993858107e-008 1.623034150331962e-008 1.793730116813629e-008 2.363841228011e-008 1.563660780932449e-008
								1.033632724296668e-008 5.642771036969905e-010 4.658788609794196e-009 1.273339664975545e-008 2.799290177121655e-009 1.852026679304552e-008 1.040232571878819e-008 1.658755656464495e-009
								1.264104739240826e-008 2.129760393649661e-008 7.312006606136113e-009 9.239391918233536e-009 1.344638132288986e-008 2.896909843918716e-009 2.353764469318535e-008 3.791073544711715e-005
								9.934058411775176e-005 1.887837889128223e-008 1.954821124067577e-008 9.85444319083077e-009 1.241631700123992e-008 2.168146390087229e-008 2.073751183847433e-008 1.066895758902283e-008
								2.302362452483867e-008 2.194804665800029e-008 2.999082690396326e-009 1.591800930812626e-008 1.610359235569996e-008 3.807012560141999e-009 1.513889870878361e-008 2.280137461740695e-008
								2.169181921928904e-008 1.363223648219239e-008 2.832203088606913e-009 1.516873459685795e-008 1.530557107483516e-008 3.305510229299968e-009 1.36910849838235e-008 1.358849805607794e-008
								2.321634877478056e-008 1.562832121864254e-008 2.513192939245663e-009 1.638117918132842e-008 1.558540892721529e-008 6.890672535747981e-009 1.953788527621261e-008 7.507230073479992e-010
								1.69915496517856e-008 1.975074697326446e-008 1.908132250646321e-009 2.824339925722191e-009 1.008272443934201e-008 2.28053330599249e-009 1.215780374207242e-008 3.320333701825346e-009
								2.261577661810616e-008 1.173525849035684e-008 1.267580069084007e-008 9.848052696008159e-009 1.551306692896225e-008 1.327356548775498e-008 1.59396752650028e-008 1.480545641052684e-009
								1.667888353294867e-008 1.097418391536731e-008 6.704633032173789e-009 1.589902223567488e-009 2.266279321136754e-008 2.132123357830645e-008 3.317292753748783e-009 7.039298802477778e-009
								3.567993783726281e-010 8.902418936979459e-009 1.193548043844671e-008 1.973497518669038e-008 2.208752424786764e-008 2.081617050809604e-008 7.345937627660922e-009 2.363796706859209e-008
								1.35184309790773e-008 6.543952181298929e-009 1.090559033385897e-008 1.340300716665315e-008 5.933135335027053e-009 1.804433026112201e-008 9.49412909428176e-011 2.176422076784829e-008
								8.192469396667169e-009 6.282259107826432e-009 1.454307166150932e-009 6.597044735186097e-009 1.476472208756501e-008 1.786386635432492e-009 2.321182134334254e-008 2.301187769361039e-008
								2.123649691019175e-008 2.272726014075784e-008 7.205322891306735e-009 7.886088154764131e-009 1.093562424859686e-008 1.714944274772656e-008 3.992900695428656e-009 1.645565560790502e-008
								1.610925494836994e-008 1.428858578210448e-008 6.200715406781897e-009 2.338546813724552e-008 9.183307777789814e-009 2.131388469406608e-008 2.411540931782783e-008 0.001179348534812629
								0.008735235910953361 0.016291123536662 0.01961334964658595 0.02680461409725525 0.03519753222807753 0.04040977506081087 0.04564387548920237 0.0508925611388736 
								0.05615087866688927 0.06141659533606835 0.07018054381030292 0.07895743773487941 0.08774355095155011 0.09653682287397782 0.1053352860746218 0.1096895232131057 
								0.1140426719341887 0.1183942143427546 0.1227451310527251 0.1270951246975828 0.1348984780707722 0.1426990559870212 0.1504967178158615 0.1582923855551763 
								0.166086229583566 0.1758953783967382 0.1857100126881571 0.19552845918903 0.2053503828121451 0.2151752798911781 0.2270234984543371 0.2388697998818994
								0.2507149330592385 0.262559602443599 0.2744012863413068 0.2835131285152122 0.2926245519969148 0.3017399723360009 0.3108545407237496 0.3199716961283824
								0.330581363885413 0.3411916181879889 0.351800925929833 0.3624098774998913 0.3730185380924765 0.3907440606910256 0.40846976169196 0.4261993957288691
								0.4439207064510168 0.4616456515990103 0.4789118060023901 0.4961731961774158 0.5134299791224767 0.5306972136198254 0.5479584826193047 0.5651207445299165
								0.5822748365258021 0.5994355927260523 0.6165902015165835 0.6337482657273025 0.6481808861059353 0.6626146172753192 0.6770481706123808 0.6914824359704326
								0.7059152609054703 0.7292584017337441 0.7526006378422173 0.7759434738363954 0.7992864280739094 0.8226292137232285 0.8294175240084845 0.839253960747855
								0.8674008926164785 0.8753428330383034 0.8881215435633539 0.9236552790290107 0.9617596503720931 0.9748050374437697 0.9925495256880831 1
								</SampledSegment>
								<FormulaSegment Start="1.0" End="+inf" FunctionType="0">1.0 0.0 0.0 1.0</FormulaSegment>
							</SegmentedCurve>
						</CurveSetElement>
					  <!--Element 2 -->
						<MatrixElement InputChannels="5" OutputChannels="3">  <!-- mtx[2] -->
							<!-- Matrix to convert RGBW values plus offset to XYZ -->
							<MatrixData>
							 0.1556522872409749 0.2914687866545028 0.1292284634432425 0.8591841522220774 0.002408445197445588
							 0.0806750944871628 0.5324097484686563 0.07498110256744428 0.9972970155089275 0.002702984491072592
							 0.001427081975759156 0.1019301446631044 0.72165776098006 1.178570311481819 0.00336634953733872
							</MatrixData>
						</MatrixElement>
					</SubElements>
					<MainFunction> {
					in[0,3]
					curv[0]
					in[0,3] min(3) curv[1]
					1.0 mtx[2]
					0.9642 1.000 0.8249 %Adjust XYZ whiepoint to D50 for PCS
					mul(3)
					0.861592597419523 1.0 1.181936661019158 %xyz whitepoint of projector
					div(3) out[0,3] }
					</MainFunction>
				</CalculatorElement>
			</MultiProcessElements>
		</multiProcessElementType>

    <multiProcessElementType>
      <TagSignature>B2A1</TagSignature>
			<MultiProcessElements InputChannels="3" OutputChannels="3">
				<CalculatorElement InputChannels="3" OutputChannels="3">
					<SubElements>
					  <!--Element 0 -->
						<CurveSetElement InputChannels="1" OutputChannels="1"> <!-- curv[0] -->
							<SegmentedCurve>
								<FormulaSegment Start="-inf" End="0.0" FunctionType="0">1.0 0.0 0.0 0.0</FormulaSegment>
								<!-- Samples for inverse white Linearization based on red (excluding zero) -->
								<SampledSegment Start="0.0" End="1.0">
									1.4923123529668e-008 8.10596787348692e-009 1.948575746690323e-008 1.745017119424738e-008 1.796399328298666e-008 2.02325209241876e-008 2.129478069819792e-008
									1.079163425178284e-008 2.520200261753708e-009 9.750456446306272e-009 5.047156341471938e-005 9.954527669558263e-009 1.514880589384635e-008 6.158951166984065e-009 4.109079683745575e-009
									1.910101184822658e-008 1.466072280939822e-008 1.578532318212773e-008 3.953670955825303e-009 1.035378921624954e-008 4.892450117559915e-009 2.003836133997356e-009 2.602406184989254e-009
									1.900627440478253e-008 1.153444284716448e-008 1.332945562167183e-008 7.374001092673499e-009 7.567262082340744e-009 2.255918250662213e-008 4.598812484032485e-009 9.214072567525915e-009
									2.204151750740183e-008 9.020519240273972e-009 1.644802584566534e-008 9.345522153945693e-009 7.339812707581972e-009 4.998685229362532e-010 1.101046669103053e-008 3.382500886866665e-009
									9.703570297125553e-009 3.292361701441719e-009 2.305989210717886e-008 2.20656534813674e-008 7.648481381680571e-009 1.560519121005633e-008 1.642721083987106e-008 1.065629323392942e-008
				3846018012605436 0.03864147870286564 0.03882277727967691 0.03900407585648819
									0.03918537443329946 0.03934888174331654 0.03950881730875719 0.03966875287419783 0.03982868843963848 0.03998862400507913 0.04014855957051977 0.04030849513596042
									0.04046843070140106 0.04062836626684171 0.04078830183228235 0.040948237397723 0.04110817296316364 0.04126810852860428 0.041428117719927666455 0.07129240173725579
								</SampledSegment>
								<FormulaSegment Start="1.0" End="+inf" FunctionType="0">1.0 0.0 0.0 1.0</FormulaSegment>
							</SegmentedCurve>
						</CurveSetElement>
					  <!--Element 4 -->
						<MatrixElement InputChannels="3" OutputChannels="3">  <!-- mtx[4] -->
							<!-- XYZ to theoretical RGB matrix -->
							<MatrixData>
							8.831253794880151 -4.623900839673432 -1.100998586905484
							-1.36283397121364 2.629930690188755 -0.0292079763259192
							0.1750288676339216 -0.3623192935717723 1.39200108805964
							</MatrixData>
						</MatrixElement>
					</SubElements>
					<MainFunction> {
					in[0,3] 
					0.861592597419523 1.0 1.181936661019158 % XYZ white point of projector
					mul(3) 
					0.9642 1.000 0.8249 %Convert from PCS D50 white to projector white
					div(3)
					
					0.002408445197445588 0.002702984491072592 0.00336634953733872  % XYZ black point of projector
					sub(3)
					copy(3) tput[3,3] %request XYZ
					
					mtx[4] copy(3) tput[0,3] %theoretical RGB
					
					copy(3) max(3) 1.0 gt  %check if white added
					if 
					{ pop(3) tget[0,3] min(3)
						copy tget[0] eq if {
						  2.683731462334499 div  % scale theoretical R to find estimated white
						  curv(0)
						} else {
						  copy tget[1] eq if {
							  2.421201051065448 div % scale theoretical G to find estimated white
							  curv(1)
						  } else {
							  2.433741401272582 div % scale theoretical B to find estimated white
							  curv(2)
						  }
						}
						neg copy(1,2)
						0.2828346148833573 0.3092310699856641 0.3535553238628959 % Subtract out theoretical XYZ due to white
						mul(3)
						tget[3,3] add(3)
					
						mtx[4] %convert adjusted XYZ without white to RGB
					}
					curv(3)
					
					out[0,3] }
					</MainFunction>
				</CalculatorElement>
			</MultiProcessElements>
		</multiProcessElementType>

    <XYZType>
      <TagSignature>wtpt</TagSignature>
      <XYZNumber X="0.861592597419523" Y="1.00000000" Z="1.181936661019158"/>
    </XYZType>

    <multiLocalizedUnicodeType>
      <TagSignature>cprt</TagSignature>
      <LocalizedText LanguageCountry="enUS"><![CDATA[Copyright 2015 International Color Consortium]]></LocalizedText>
    </multiLocalizedUnicodeType>

  </Tags>
</IccProfile>
